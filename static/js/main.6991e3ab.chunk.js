(this["webpackJsonpacciones-app"]=this["webpackJsonpacciones-app"]||[]).push([[0],{226:function(e,t,n){e.exports=n(445)},231:function(e,t,n){},232:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},233:function(e,t,n){},261:function(e,t){},440:function(e,t,n){},445:function(e,t,n){"use strict";n.r(t);var a,l=n(1),c=n.n(l),r=n(13),o=n.n(r),i=(n(231),n(28)),u=n(80),m=n(72),s=n(113),d=n(114),E=n(119),h=n(118),f=(n(232),n(233),n(81),n(184)),b=n.n(f),p=n(27),g=(n(440),n(79)),k=n(193),v=n.n(k),y=n(195),O=n(53),j=n(117),x=function(e){Object(E.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={exchanges:N,nombre:"PERRO",size:N.length,exch_active:null,display_name:"Ningun mercado seleccionado"},a}return Object(d.a)(n,[{key:"render",value:function(){var e=this;return c.a.createElement(O.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark"},c.a.createElement(O.a.Brand,{href:"#home"},this.state.display_name),c.a.createElement(O.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),c.a.createElement(O.a.Collapse,{id:"responsive-navbar-nav"},c.a.createElement(y.a,{className:"mr-auto"},c.a.createElement(j.a,{title:"Markets",id:"collasible-nav-dropdown"},Object.keys(this.state.exchanges).map((function(t){return c.a.createElement(j.a.Item,{onClick:function(){e.setState({exch_active:e.state.exchanges[t],display_name:e.state.exchanges[t].name}),a=e.state.exchanges[t].name}},e.state.exchanges[t].name)}))))),c.a.createElement(C,null))}}]),n}(l.Component),C=function(e){Object(E.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).state={cheked:!1},e.handleChange=e.handleChange.bind(Object(m.a)(e)),e}return Object(d.a)(n,[{key:"handleChange",value:function(e){w.connected?(alert("Cerrando"),w.close()):(alert("Abriendo"),w.open()),this.setState({cheked:e})}},{key:"render",value:function(){return c.a.createElement("label",{htmlFor:"material-switch"},c.a.createElement("span",{style:{color:"white"}},"Conectarse al mundo"),c.a.createElement(v.a,{checked:this.state.checked,onChange:this.handleChange,onColor:"#blue",onHandleColor:"#2693e6",handleDiameter:30,uncheckedIcon:!1,checkedIcon:!1,boxShadow:"0px 1px 5px rgba(0, 0, 0, 0.6)",activeBoxShadow:"0px 0px 1px 10px rgba(0, 0, 0, 0.2)",height:20,width:48,className:"react-switch",id:"material-switch"}))}}]),n}(l.Component),w=b()("wss://le-18262636.bitzonte.com",{path:"/stocks",transports:["websocket","polling"]});function S(e,t){var n=null;return Object.keys(e).map((function(a){e[a].name==t&&(console.log(e[a]),n=e[a])})),n}function D(e,t,n,a,l){var c;return console.log(a),console.log(n),S(e,n),c=function(e,t){var n=null;return Object.keys(t).map((function(a){t[a].company_name==e&&(n=t[a].ticker)})),n}(a,l),console.log(c),console.log(a),t.filter((function(e){return e.ticker==c}))}var N=[],I=[],_=[],F=[],P=[],V=[],A=0;function T(e,t){var n=0;return Object.keys(function(e,t,n){var a=[];return Object.keys(n).map((function(t){e.listed_companies.includes(n[t].company_name)&&a.push(n[t].ticker)})),t.filter((function(e){return a.includes(e.ticker)}))}(e,t,I)).map((function(e){n+=t[e].volume})),n}function G(e){return e.listed_companies.length}function z(e,t,n,a,l){var c=B(e[t],n,a,l),r=0;return Object.keys(e).map((function(t){r+=B(e[t],n,a,l)})),(100*c/r).toFixed(2)}function B(e,t,n,a){return T(e,t)+T(e,n)}function K(e,t){return t.filter((function(t){return t.ticker==e}))}function L(e,t){var n="";return Object.keys(t).map((function(a){t[a].company_name==e&&(n=t[a].ticker)})),n}function M(e,t){return Object.keys(t).map((function(n){if(t[n].company_name==e)return t[n].quote_base})),"USD"}function H(e,t,n,a,l,r){var o=S(e,n);return console.log(o),null===o?c.a.createElement("div",null,c.a.createElement("h4",null,"Informaci\xf3n mercados disponibles"),c.a.createElement(g.a,{striped:!0,bordered:!0,size:"sm"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Exchange"),c.a.createElement("th",null,"Pais"),c.a.createElement("th",null,"Vol Compra"),c.a.createElement("th",null,"Vol Venta"),c.a.createElement("th",null,"Vol Total"),c.a.createElement("th",null,"Cantidad Acciones"),c.a.createElement("th",null,"Participacion"))),c.a.createElement("tbody",null,Object.keys(e).map((function(t){return c.a.createElement("tr",null,c.a.createElement("td",null,e[t].name),c.a.createElement("td",null,e[t].country),c.a.createElement("td",null,Intl.NumberFormat("de-DE").format(T(e[t],l))),c.a.createElement("td",null,Intl.NumberFormat("de-DE").format(T(e[t],r))),c.a.createElement("td",null,Intl.NumberFormat("de-DE").format(B(e[t],l,r))),c.a.createElement("td",null,G(e[t])),c.a.createElement("td",null,z(e,t,l,r,a),"%"))}))))):c.a.createElement("div",null,c.a.createElement("h4",null,"Informaci\xf3n mercados disponibles"),c.a.createElement(g.a,{striped:!0,bordered:!0,size:"sm"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Exchange"),c.a.createElement("th",null,"Pais"),c.a.createElement("th",null,"Vol Compra"),c.a.createElement("th",null,"Vol Venta"),c.a.createElement("th",null,"Vol Total"),c.a.createElement("th",null,"Cantidad Acciones"),c.a.createElement("th",null,"Participacion"))),c.a.createElement("tbody",null,Object.keys(e).map((function(t){return c.a.createElement("tr",null,c.a.createElement("td",null,e[t].name),c.a.createElement("td",null,e[t].country),c.a.createElement("td",null,Intl.NumberFormat("de-DE").format(T(e[t],l))),c.a.createElement("td",null,Intl.NumberFormat("de-DE").format(T(e[t],r))),c.a.createElement("td",null,Intl.NumberFormat("de-DE").format(B(e[t],l,r))),c.a.createElement("td",null,G(e[t])),c.a.createElement("td",null,z(e,t,l,r,a),"%"))})))),c.a.createElement("h4",null,"Informaci\xf3n del Mercado ",o.name),c.a.createElement(g.a,{striped:!0,bordered:!0,size:"sm"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Empresa"),c.a.createElement("th",null,"Pais"),c.a.createElement("th",null,"Vol Transado"),c.a.createElement("th",null,"Maximo"),c.a.createElement("th",null,"Minimo"),c.a.createElement("th",null,"Ultimo Precio"),c.a.createElement("th",null,"Variacion Porcentual"))),c.a.createElement("tbody",null,o.listed_companies.map((function(e){return c.a.createElement("tr",null,c.a.createElement("td",null,e),c.a.createElement("td",null,function(e,t){var n="";return Object.keys(t).map((function(a){t[a].company_name==e&&(n=t[a].country)})),n}(e,a)),c.a.createElement("td",null,Intl.NumberFormat("de-DE").format(function(e,t,n,a){var l="";Object.keys(t).map((function(n){t[n].company_name==e&&(l=t[n].ticker)}));var c=0,r=0;return Object.keys(K(l,n)).map((function(e){r+=n[e].volume})),Object.keys(K(l,a)).map((function(e){c+=a[e].volume})),r+c}(e,a,l,r))),c.a.createElement("td",null,Intl.NumberFormat("de-DE",{style:"currency",currency:M(e,a)}).format(_[L(e,a)])),c.a.createElement("td",null,Intl.NumberFormat("de-DE",{style:"currency",currency:M(e,a)}).format(F[L(e,a)])),c.a.createElement("td",null,Intl.NumberFormat("de-DE",{style:"currency",currency:M(e,a)}).format(P[L(e,a)])),c.a.createElement("td",null,V[L(e,a)]," %"))})))),c.a.createElement("div",{className:"Grafico-Grid"},o.listed_companies.map((function(l){return c.a.createElement("div",{className:"Grafico"},c.a.createElement("h4",null,l),c.a.createElement(p.c,{width:500,height:300,data:D(e,t,n,l,a)},c.a.createElement(p.e,{dataKey:"time"}),c.a.createElement(p.f,null),c.a.createElement(p.a,{verticalAlign:"top",height:36}),c.a.createElement(p.b,{name:l,stype:"monotone",dataKey:"value",stroke:"#8884d8"}),c.a.createElement(p.d,null)))}))))}w.emit("EXCHANGES"),w.once("EXCHANGES",(function(e){Object.keys(e).forEach((function(t){N[t]=e[t]})),console.log("EXCHANGE"),console.log(N)})),w.emit("STOCKS"),w.once("STOCKS",(function(e){Object.keys(e).forEach((function(t){I[t]=e[t]})),console.log("STOCKS")}));var U=function(){var e,t=Object(l.useState)([]),n=Object(u.a)(t,2),r=n[0],o=n[1],m=Object(l.useState)([]),s=Object(u.a)(m,2),d=s[0],E=s[1],h=Object(l.useState)([]),f=Object(u.a)(h,2),b=f[0],p=f[1];return console.log("PPP"),Object(l.useEffect)((function(){w.on("UPDATE",(function(e){var t=new Date(e.time).toLocaleDateString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"}),n=e;n.time=t,r.length?r[r.length-1]!=n&&(o((function(e){return[].concat(Object(i.a)(e),[n])})),V[n.ticker]=(100*(n.value-P[n.ticker])/P[n.ticker]).toFixed(2),P[n.ticker]=n.value,console.log(P)):(o((function(e){return[].concat(Object(i.a)(e),[n])})),V[n.ticker]=(100*(n.value-P[n.ticker])/P[n.ticker]).toFixed(2),P[n.ticker]=n.value)})),w.on("BUY",(function(e){var t=new Date(e.time).toLocaleDateString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"}),n=e;n.time=t,d.length?d[d.length-1]!=n&&E((function(e){return[].concat(Object(i.a)(e),[n])})):E((function(e){return[].concat(Object(i.a)(e),[n])}))})),w.on("SELL",(function(e){var t=new Date(e.time).toLocaleDateString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"}),n=e;n.time=t,b.length?b[b.length-1]!=n&&E((function(e){return[].concat(Object(i.a)(e),[n])})):p((function(e){return[].concat(Object(i.a)(e),[n])}))}))}),[]),e=I,0===A&&e.length>0&&(Object.keys(e).map((function(t){F[e[t].ticker]=1e6,_[e[t].ticker]=0,P[e[t].ticker]=0,V[e[t].ticker]=0})),A=1),console.log(_,F),c.a.createElement("div",null,c.a.createElement(x,{exch:N}),H(N,r,a,I,d,b))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(U,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[226,1,2]]]);
//# sourceMappingURL=main.6991e3ab.chunk.js.map